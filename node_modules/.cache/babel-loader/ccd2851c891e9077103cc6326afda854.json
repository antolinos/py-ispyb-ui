{"ast":null,"code":"import { LOGGED_IN, LOGIN_ERROR, LOG_IN, LOG_OUT } from '../actiontypes';\nconst initialState = {\n  username: null,\n  roles: null,\n  token: null,\n  isLoggedIn: false\n};\n\nconst user = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOG_IN:\n      {\n        state = { ...initialState,\n          username: action.username,\n          isSSO: action.username === null,\n          isAuthenticating: true\n        };\n        break;\n      }\n\n    case LOGGED_IN:\n      {\n        state = { ...initialState,\n          username: state.username,\n          token: action.token,\n          roles: action.roles\n        };\n        break;\n      }\n\n    case LOG_OUT:\n      {\n        state = { ...initialState,\n          isSessionExpired: action.expired\n        };\n        break;\n      }\n\n    case LOGIN_ERROR:\n      {\n        state = { ...initialState,\n          error: action.error\n        };\n        break;\n      }\n\n    default:\n      break;\n  }\n\n  return state;\n};\n\nexport default user;","map":{"version":3,"sources":["/home/ale/Software/workspaces/ispyb/py-ispyb-ui/src/redux/reducers/user.js"],"names":["LOGGED_IN","LOGIN_ERROR","LOG_IN","LOG_OUT","initialState","username","roles","token","isLoggedIn","user","state","action","type","isSSO","isAuthenticating","isSessionExpired","expired","error"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,MAAjC,EAAyCC,OAAzC,QAAwD,gBAAxD;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,IADS;AAEnBC,EAAAA,KAAK,EAAE,IAFY;AAGnBC,EAAAA,KAAK,EAAE,IAHY;AAInBC,EAAAA,UAAU,EAAE;AAJO,CAArB;;AAOA,MAAMC,IAAI,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,MAAL;AAAa;AACXQ,QAAAA,KAAK,GAAG,EACN,GAAGN,YADG;AAENC,UAAAA,QAAQ,EAAEM,MAAM,CAACN,QAFX;AAGNQ,UAAAA,KAAK,EAAEF,MAAM,CAACN,QAAP,KAAoB,IAHrB;AAINS,UAAAA,gBAAgB,EAAE;AAJZ,SAAR;AAMA;AACD;;AACD,SAAKd,SAAL;AAAgB;AACdU,QAAAA,KAAK,GAAG,EACN,GAAGN,YADG;AAENC,UAAAA,QAAQ,EAAEK,KAAK,CAACL,QAFV;AAGNE,UAAAA,KAAK,EAAEI,MAAM,CAACJ,KAHR;AAIND,UAAAA,KAAK,EAAEK,MAAM,CAACL;AAJR,SAAR;AAMA;AACD;;AACD,SAAKH,OAAL;AAAc;AACZO,QAAAA,KAAK,GAAG,EAAE,GAAGN,YAAL;AAAmBW,UAAAA,gBAAgB,EAAEJ,MAAM,CAACK;AAA5C,SAAR;AACA;AACD;;AACD,SAAKf,WAAL;AAAkB;AAChBS,QAAAA,KAAK,GAAG,EAAE,GAAGN,YAAL;AAAmBa,UAAAA,KAAK,EAAEN,MAAM,CAACM;AAAjC,SAAR;AACA;AACD;;AACD;AACE;AA5BJ;;AA8BA,SAAOP,KAAP;AACD,CAhCD;;AAkCA,eAAeD,IAAf","sourcesContent":["import { LOGGED_IN, LOGIN_ERROR, LOG_IN, LOG_OUT } from '../actiontypes';\n\nconst initialState = {\n  username: null,\n  roles: null,\n  token: null,\n  isLoggedIn: false,\n};\n\nconst user = (state = initialState, action) => {\n  switch (action.type) {\n    case LOG_IN: {\n      state = {\n        ...initialState,\n        username: action.username,\n        isSSO: action.username === null,\n        isAuthenticating: true,\n      };\n      break;\n    }\n    case LOGGED_IN: {\n      state = {\n        ...initialState,\n        username: state.username,\n        token: action.token,\n        roles: action.roles,\n      };\n      break;\n    }\n    case LOG_OUT: {\n      state = { ...initialState, isSessionExpired: action.expired };\n      break;\n    }\n    case LOGIN_ERROR: {\n      state = { ...initialState, error: action.error };\n      break;\n    }\n    default:\n      break;\n  }\n  return state;\n};\n\nexport default user;\n"]},"metadata":{},"sourceType":"module"}